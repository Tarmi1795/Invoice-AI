# üí∞ Cost Analysis & Optimization Guide: Invoice Summarizer AI

This document details the operational costs of running the Invoice Summarizer AI using Google's Gemini API, including breakdowns for individual invoices, bulk processing, and optimization strategies.

---

## 1. Is it Free? (Google AI Studio vs. Vertex AI)

### **The Free Tier (Google AI Studio)**
**Yes, it is free** to start, but with caveats.

*   **Cost:** $0.00 / month.
*   **Rate Limits:**
    *   **Gemini Flash:** ~15 Requests Per Minute (RPM), 1 Million Tokens Per Minute (TPM), 1,500 Requests Per Day.
    *   **Gemini Pro:** ~2 RPM, 32k TPM, 50 Requests Per Day.
*   **Data Privacy:** ‚ö†Ô∏è **Critical:** When using the *Free* tier of Google AI Studio, Google may use your inputs and outputs to improve their products. **Do not use the Free tier for sensitive, real-world client data (PII).**
*   **Best For:** Development, testing, personal projects, and demos.

### **The Paid Tier (Pay-As-You-Go)**
To process sensitive client data confidentially and remove strict rate limits, you must enable billing (Pay-As-You-Go).

*   **Data Privacy:** Google **does not** use your data for training.
*   **Rate Limits:** Significantly higher (e.g., 1000+ RPM).
*   **Cost:** You pay per 1 million tokens.

---

## 2. Cost Breakdown per Invoice

Costs are calculated based on "Tokens".
*   **Input Tokens:** The PDF invoice (converted to image or text) + System Instructions.
*   **Output Tokens:** The JSON result generated by the AI.

### **Assumptions for 1 Standard Invoice**
*   **Input:** A standard A4 invoice is roughly **2,000 tokens** (Text + Layout analysis).
*   **Output:** The JSON summary is roughly **300 tokens**.

### **Model Pricing (Gemini 1.5 Flash)**
*Currently the most efficient model for this task.*

| Type | Price per 1M Tokens | Cost Calculation | Cost per Invoice |
| :--- | :--- | :--- | :--- |
| **Input** | $0.075 | (2,000 / 1,000,000) * $0.075 | $0.00015 |
| **Output** | $0.30 | (300 / 1,000,000) * $0.30 | $0.00009 |
| **Total** | | | **$0.00024** |

**Verdict:** It costs approximately **$0.00024** (less than 1/40th of a penny) to process one invoice using Gemini Flash.

---

## 3. Bulk Processing Scenarios

Below is the estimated cost for processing volumes of invoices using the **Gemini 1.5 Flash** model (Paid Tier).

| Volume | Time Estimate (Sequential) | Cost Estimate (USD) |
| :--- | :--- | :--- |
| **1 Invoice** | ~2 seconds | **$0.00024** |
| **1,000 Invoices** | ~33 minutes | **$0.24** (24 cents) |
| **10,000 Invoices** | ~5.5 hours | **$2.40** |
| **100,000 Invoices** | ~2.3 days | **$24.00** |

*Note: "Time Estimate" assumes a single serial queue. Parallel processing (multi-threading) can reduce time drastically.*

---

## 4. Model Comparison: Which is Best?

For Invoice Processing, we compare **Gemini Flash** vs. **Gemini Pro**.

### **Gemini Flash (Recommended)**
*   **Pros:** Extremely fast, very cheap, designed for high-volume tasks like extraction.
*   **Cons:** Might struggle with extremely blurry handwritten notes (though usually fine).
*   **Cost Factor:** 1x (Baseline).

### **Gemini Pro**
*   **Pros:** Deeper "reasoning" capabilities. Better at complex logic or very messy handwritten documents.
*   **Cons:** Slower and significantly more expensive.
*   **Cost Factor:** ~40x more expensive than Flash.
*   **Price:** Input $3.50/1M, Output $10.50/1M.
*   **Cost per Invoice:** ~$0.01 (1 cent per invoice).

**Recommendation:**
Use **Gemini Flash** for 99% of workloads. Only switch to Pro if you have specific invoices that Flash consistently fails to read.

---

## 5. Tips to Lessen Costs

1.  **Use "Flash" Models:**
    Always ensure your code uses `gemini-1.5-flash` (or the newer `gemini-2.5/3-flash`). Do not use `pro` unless necessary.

2.  **Optimize Input Images:**
    *   Gemini charges based on image resolution (tokens).
    *   Do not send 4K scans. A standard 1080p or 720p equivalent image of an invoice is sufficient for OCR.
    *   *Saving:* Resizing images before sending can reduce input token usage by 30-50%.

3.  **JSON Schema Enforcement:**
    *   By forcing the AI to output *only* JSON (using `responseSchema`), you prevent the AI from generating "chatty" conversational text like "Here is your invoice summary...".
    *   *Saving:* Reduces output tokens (the most expensive type) by 20-40%.

4.  **Batching (Future Optimization):**
    *   The Gemini API supports "Batch Requests" (non-real-time). If you don't need the result immediately, submitting a batch job usually comes with a **50% discount** on pricing.

5.  **Clean Prompts:**
    *   Keep system instructions concise. Every word in your prompt is counted as an input token for *every* invoice you process.

## Summary

For a business processing **10,000 invoices per month**:
*   **Using Free Tier:** $0 (Risk of privacy, slow).
*   **Using Gemini Flash:** ~$2.40 per month.
*   **Using Gemini Pro:** ~$100.00 per month.

**Winner:** **Gemini Flash (Paid Tier)** provides the best balance of data privacy, speed, and extremely low cost.